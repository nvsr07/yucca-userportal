<div ng-controller="ManagementDatasetListCtrl as datasetsCtrl">
	<h2> <span translate>MANAGEMENT_TITLE</span> <small translate>MANAGEMENT_DATASET_SUBTITLE </small></h2>
	<div class='row'>
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" >
			<!-- Main component for a primary marketing message or call to action -->
	
			<!-- Single button -->
			<div class='clearfix'>
				<div class="pull-left">
		        	<a  href="#/management/newDataset/{{tenantCode}}" class="btn  btn-new" ng-disabled="!isOwner()">
						<span class="glyphicon glyphicon-plus "></span> <span translate>MANAGEMENT_DATASET_LIST_NEW_DATASET</span>
					</a>
					<button  href="javascript:void(0)" ng-click='editDataset()' class="btn  btn-edit" ng-disabled="!isOwner() || !canEdit()" title="{{'MANAGEMENT_DATASET_LIST_EDIT_DATASET_BUTTON_HINT'|translate}}">
						<span class="glyphicon glyphicon-pencil "></span> <span translate>MANAGEMENT_DATASET_LIST_EDIT_DATASET</span>
					</button>
					<button href="javascript:void(0)" ng-click='deleteDataset()'class="btn  btn-delete" ng-disabled="true" title="{{'MANAGEMENT_DATASET_LIST_DELETE_DATASET_BUTTON_HINT'|translate}}">
						<span class="glyphicon glyphicon-trash "></span> <span translate>MANAGEMENT_DATASET_LIST_DELETE_DATASET</span>
					</button>
				</div>
				<div class="btn-group pull-right">
					<form class="form-inline" role="form">
						<div class="form-group">
							<div class="form-group">
								<input type="text" class="form-control col-xs-2" ng-model="nameFilter" placeholder="{{'DATASET_LIST_CODE_FILTER'|translate}}" />
							</div>
							<div class="form-group">
								<input type="text" class="form-control col-xs-2" ng-model="statusFilter" placeholder="{{'DATASET_LIST_STATUS_FILTER'|translate}}" />
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="table-responsive dashboard-datasetList-table">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>
							</th>
							<th>
								<a href="" ng-click="predicate = 'idDataset'; reverse=!reverse"><span translate>DATASET_FIELD_CONFIGDATA_ID</span>
								<span ng-show="predicate=='idDataset' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='idDataset' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'nameDataset'; reverse=!reverse"><span translate>DATASET_FIELD_METADATA_NAME</span>
								<span ng-show="predicate=='nameDataset' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='nameDataset' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'typeDataset'; reverse=!reverse"><span translate>DATASET_FIELD_CONFIGDATA_TYPE</span> / <span translate>DATASET_FIELD_CONFIGDATA_SUBTYPE</span>
								<span ng-show="predicate=='typeDataset' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='typeDataset' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'registrationdateDataset'; reverse=!reverse"><span translate>DATASET_FIELD_METADATA_REGISTRATIONDATE</span>
								<span ng-show="predicate=='registrationdateDataset' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='registrationdateDataset' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							</th>
							<th>
								<a href="" ng-click="predicate = 'statusDataset'; reverse=!reverse"><span translate>DATASET_FIELD_METADATA_DATASETSTATUS</span>
								<span ng-show="predicate=='statusDataset' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='statusDataset' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="dataset in filteredDatasetList = (datasetList | filter: searchNameFilter | filter: searchStatusFilter|  orderBy:predicate:reverse) |startFrom:(currentPage-1)*pageSize | limitTo:pageSize ">
							<td><input type="checkbox" name="selected" ng-checked="isSelected(dataset)"  ng-click="updateSelection($event, dataset)"/>
							<td><a href="#/management/viewDataset/{{tenant}}/{{dataset.configData.idDataset}}">{{dataset.configData.idDataset}}</a></td>
							<td>{{dataset.metadata.name}}</td>
							<td>{{dataset.configData.type}} / {{dataset.configData.subtype}}</td>
							<td>{{dataset.metadata.registrationDate|date}}</td>
							<td><span ng-bind-html="dataset.statusIcon"></span> <span translate>{{dataset.metadata.datasetStatus}}</span></td>
						</tr>
					</tbody>
				</table>
				<pagination boundary-links="true" total-items="filteredStreamsList.length" ng-model="currentPage" ng-change="selectPage()" class="pagination-sm" previous-text="&lsaquo;"
					next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
				></pagination>
			</div>
		</div>
	</div>
</div>