<div ng-controller="ManagementStreamListCtrl as streamsCtrl">
	<h2>{{'MANAGEMENT_TITLE'|translate}} <small>{{'MANAGEMENT_STREAM_SUBTITLE'|translate}} </small></h2>
	<div class='row'>
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" >
			<!-- Main component for a primary marketing message or call to action -->
	
			<!-- Single button -->
			<div class='clearfix'>
				<div class="pull-left">
		        	<a  href="#/management/newStream/{{tenantCode}}" class="btn  btn-new" ng-disabled="!isAuthorized('management/streams/edit')">
						<span class="glyphicon glyphicon-plus "></span> {{'MANAGEMENT_STREAM_LIST_NEW_STREAM'|translate}}
					</a>
					<button  href="javascript:void(0)" ng-click='editStream()' class="btn  btn-edit" ng-disabled="!isOwner() || !canEdit()" title="{{'MANAGEMENT_STREAM_LIST_EDIT_STREAM_BUTTON_HINT'|translate}}">
						<span class="glyphicon glyphicon-pencil "></span> {{'MANAGEMENT_STREAM_LIST_EDIT_STREAM'|translate}}
					</button>
					<button href="javascript:void(0)" ng-click='deleteStream()'class="btn  btn-delete" ng-disabled="true" title="{{'MANAGEMENT_STREAM_LIST_DELETE_STREAM_BUTTON_HINT'|translate}}">
						<span class="glyphicon glyphicon-trash "></span> {{'MANAGEMENT_STREAM_LIST_DELETE_STREAM'|translate}}
					</button>
				</div>
				<div class="btn-group pull-right">
					<form class="form-inline" role="form">
						<div class="form-group">
							<div class="form-group">
								<input type="text" class="form-control col-xs-2" ng-model="codeFilter" placeholder="{{'STREAM_LIST_CODE_FILTER'|translate}}" />
							</div>
							<div class="form-group">
								<input type="text" class="form-control col-xs-2" ng-model="statusFilter" placeholder="{{'STREAM_LIST_STATUS_FILTER'|translate}}" />
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="table-responsive dashboard-streamList-table">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>
							</th>
							<th>
								<a href="" ng-click="predicate = 'codiceStream'; reverse=!reverse">{{'STREAM_FIELD_CODE'|translate}} 
								<span ng-show="predicate=='codiceStream' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='codiceStream' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'codiceVirtualEntity'; reverse=!reverse">{{'VIRTUALENTITY'|translate}} 
								<span ng-show="predicate=='codiceVirtualEntity' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='codiceVirtualEntity' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'lastupdate'; reverse=!reverse">{{'STREAM_FIELD_LASTUPDATE'|translate}} 
								<span ng-show="predicate=='lastupdate' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='lastupdate' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							
							</th>
							<th>
								<a href="" ng-click="predicate = 'deploymentStatusDesc'; reverse=!reverse">{{'STREAM_FIELD_STATUS'|translate}} 
								<span ng-show="predicate=='deploymentStatusDesc' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='deploymentStatusDesc' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							</th>
							<th>
								<a href="" ng-click="predicate = 'installed_version'; reverse=!reverse">{{'STREAM_FIELD_VERSION'|translate}} 
								<span ng-show="predicate=='installed_version' && !reverse" class="glyphicon glyphicon-chevron-up small"></span>
								<span ng-show="predicate=='installed_version' && reverse" class="glyphicon glyphicon-chevron-down small"></span></a>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="stream in filteredStreamsList = (streamsList | filter: searchCodeFilter | filter: searchStatusFilter|  orderBy:predicate:reverse) |startFrom:(currentPage-1)*pageSize | limitTo:pageSize ">
							<td><input type="checkbox" name="selected" ng-checked="isSelected(stream)"  ng-click="updateSelection($event, stream)"/>
							<td><a href="#/management/viewStream/{{tenant}}/{{stream.codiceVirtualEntity}}/{{stream.codiceStream}}">{{stream.codiceStream}}</a></td>
							<td>{{stream.codiceVirtualEntity}}</td>
							<td>{{stream.lastUpdate|date}}</td>
							<td><span ng-bind-html="stream.statusIcon"></span> {{stream.deploymentStatusCode|translate}}</td>
							<td>{{stream.installed_version}}</td>
						</tr>
					</tbody>
				</table>
				<pagination boundary-links="true" total-items="filteredStreamsList.length" ng-model="currentPage" ng-change="selectPage()" class="pagination-sm" previous-text="&lsaquo;"
					next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
				></pagination>
	
	
			</div>
		</div>
	</div>
</div>