<div class='section-dashboard' ng-controller="DashboardHomeCtrl as homeCtrl">
	<script type="text/javascript" src="../ris/userportal/lib/freeboard/js/freeboard.thirdparty.min.js?time={{buildTimestamp}}"></script>
	<script type="text/javascript" src="js-min/customization/freeboard/js/freeboard+plugins.js?time={{buildTimestamp}}"></script>
	<script type="text/javascript" src="js-min/customization/freeboard/plugins/freeboard/websocket.datasources.js?time={{buildTimestamp}}"></script>
	<div class='container'>
		<div class='title-container'>
			<h1>{{'DASHBOARD_TITLE'|translate}} <small>{{dashboard}}</small></h1>
		</div>
		<div class='row'>
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				<div class='pull-right'>
					<dashboard-menu></dashboard-menu>
				</div>
			</div>
		</div>
		<div class='row'>
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				<p>&nbsp;</p>
				<div class="alert alert-warning" ng-show='tenantWithNoDashboardError'>
					<strong>{{'WARNING'|translate}}</strong> 
					{{tenantWithNoDashboardError|translate}}
				</div>	
			</div>
		</div>
	</div>
	<div class="container" id="freeboard-container">
		<header id="main-header" data-bind="if:allow_edit" style="display:none;">
			
     	</header>
		<div id="board-content">
			<img id="dash-logo" data-bind="attr:{src: header_image}, visible:header_image()" style="display: none;">
			<div class="gridster responsive-column-width ready" style="max-width: 960px; width: 960px;">
				<ul data-bind="grid: true" style="position: relative;">
				</ul>
			</div>
			<div style="display: hidden">
				<ul data-bind="template: { name: 'pane-template', foreach: panes}"></ul>
			</div>
		</div>
	</div>
	<script type="text/html" id="pane-template">
    	<li data-bind="pane: true">
       		<header>
          	  	<h1 data-bind="text: title"></h1>
            	<ul class="board-toolbar pane-tools">
          	      	<li data-bind="pluginEditor: {operation: 'add', type: 'widget'}">
                    	<i class="icon-plus icon-black"></i>
                	</li>
                	<li data-bind="pluginEditor: {operation: 'edit', type: 'pane'}">
                    	<i class="icon-wrench icon-black"></i>
                	</li>
                	<li data-bind="pluginEditor: {operation: 'delete', type: 'pane'}">
                    	<i class="icon-trash icon-black"></i>
                	</li>
            	</ul>
	        </header>
    	    <section data-bind="foreach: widgets">
        	    <div class="sub-section" data-bind="css: 'sub-section-height-' + height()">
            	    <div class="widget" data-bind="widget: true, css:{fillsize:fillSize}"></div>
                	<div class="sub-section-tools">
                    	<ul class="board-toolbar">
                       		<!-- ko if:$parent.widgetCanMoveUp($data) -->
                        	<li data-bind="click:$parent.moveWidgetUp"><i class="icon-chevron-up icon-white"></i></li>
                        	<!-- /ko -->
                        	<!-- ko if:$parent.widgetCanMoveDown($data) -->
                        	<li data-bind="click:$parent.moveWidgetDown"><i class="icon-chevron-down icon-white"></i></li>
                        	<!-- /ko -->
                     	 	<li data-bind="pluginEditor: {operation: 'edit', type: 'widget'}"><i class="icon-wrench icon-white"></i></li>
                        	<li data-bind="pluginEditor: {operation: 'delete', type: 'widget'}"><i class="icon-trash icon-white"></i></li>
                    	</ul>
                	</div>
            	</div>
        	</section>
    	</li>
	</script>
</div>